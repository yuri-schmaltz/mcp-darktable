2025-12-06 17:21:24,165 [INFO] root: Logging initialized. File: /home/yurix/Documentos/mcp-darktable/logs/mcp_host_debug.log
2025-12-06 20:55:21,878 [INFO] root: Logging initialized. File: /home/yurix/Documentos/mcp-darktable/logs/mcp_host_debug.log
2025-12-06 20:55:21,878 [DEBUG] root: MCP TX: {"jsonrpc": "2.0", "id": "1", "method": "initialize", "params": {"protocolVersion": "2024-11-05", "capabilities": {}, "clientInfo": {"name": "darktable-mcp-ollama", "version": "0.3.0"}}}
2025-12-06 20:55:47,744 [INFO] root: Logging initialized. File: /home/yurix/Documentos/mcp-darktable/logs/mcp_host_debug.log
2025-12-06 20:55:47,744 [DEBUG] root: MCP TX: {"jsonrpc": "2.0", "id": "1", "method": "initialize", "params": {"protocolVersion": "2024-11-05", "capabilities": {}, "clientInfo": {"name": "darktable-mcp-ollama", "version": "0.3.0"}}}
2025-12-06 20:57:27,577 [INFO] root: Logging initialized. File: /home/yurix/Documentos/mcp-darktable/logs/mcp_host_debug.log
2025-12-06 20:57:36,185 [INFO] root: Logging initialized. File: /home/yurix/Documentos/mcp-darktable/logs/mcp_host_debug.log
2025-12-06 20:57:36,187 [DEBUG] root: MCP TX: {"jsonrpc": "2.0", "id": "1", "method": "initialize", "params": {"protocolVersion": "2024-11-05", "capabilities": {}, "clientInfo": {"name": "darktable-mcp-ollama", "version": "0.3.0"}}}
2025-12-06 20:57:36,233 [WARNING] root: MCP STDERR: [debug] dir_exists('/usr/lib') -> true (ok=0 code=nil) | [debug] dir_exists('/usr/lib64') -> true (ok=0 code=nil) | erro: org.darktable.Darktable/*unspecified*/*unspecified* não instalado | [init] re-exec with LD_LIBRARY_PATH=/usr/lib:/usr/lib64 (flatpak) | [init] LD_LIBRARY_PATH already injected | [init] darktable prefix=/usr source=fallback lib=/usr/lib/darktable/libdarktable.so | lua: ...ix/Documentos/mcp-darktable/server/dt_mcp_server.lua:370: module 'darktable' not found: | no field package.preload['darktable'] | no file './darktable.lua' | no file '/usr/local/share/lua/5.1/darktable.lua' | no file '/usr/local/share/lua/5.1/darktable/init.lua' | no file '/usr/local/lib/lua/5.1/darktable.lua' | no file '/usr/local/lib/lua/5.1/darktable/init.lua' | no file '/usr/share/lua/5.1/darktable.lua' | no file '/usr/share/lua/5.1/darktable/init.lua' | no file '/home/yurix/Documentos/mcp-darktable/server/darktable.lua' | no file './darktable.so' | no file '/usr/local/lib/lua/5.1/darktable.so' | no file '/usr/lib/x86_64-linux-gnu/lua/5.1/darktable.so' | no file '/usr/lib/lua/5.1/darktable.so' | no file '/usr/local/lib/lua/5.1/loadall.so' | no file '/usr/lib/libdarktable.so' | no file '/usr/lib64/libdarktable.so' | no file '/usr/lib/darktable/libdarktable.so' | no file '/usr/lib64/darktable/libdarktable.so' | stack traceback: | [C]: in function 'require' | ...ix/Documentos/mcp-darktable/server/dt_mcp_server.lua:370: in main chunk | [C]: ?
2025-12-06 20:57:36,233 [ERROR] root: MCP Empty Response:  | stderr: [debug] dir_exists('/usr/lib') -> true (ok=0 code=nil) | [debug] dir_exists('/usr/lib64') -> true (ok=0 code=nil) | erro: org.darktable.Darktable/*unspecified*/*unspecified* não instalado | [init] re-exec with LD_LIBRARY_PATH=/usr/lib:/usr/lib64 (flatpak) | [init] LD_LIBRARY_PATH already injected | [init] darktable prefix=/usr source=fallback lib=/usr/lib/darktable/libdarktable.so | lua: ...ix/Documentos/mcp-darktable/server/dt_mcp_server.lua:370: module 'darktable' not found: | no field package.preload['darktable'] | no file './darktable.lua' | no file '/usr/local/share/lua/5.1/darktable.lua' | no file '/usr/local/share/lua/5.1/darktable/init.lua' | no file '/usr/local/lib/lua/5.1/darktable.lua' | no file '/usr/local/lib/lua/5.1/darktable/init.lua' | no file '/usr/share/lua/5.1/darktable.lua' | no file '/usr/share/lua/5.1/darktable/init.lua' | no file '/home/yurix/Documentos/mcp-darktable/server/darktable.lua' | no file './darktable.so' | no file '/usr/local/lib/lua/5.1/darktable.so' | no file '/usr/lib/x86_64-linux-gnu/lua/5.1/darktable.so' | no file '/usr/lib/lua/5.1/darktable.so' | no file '/usr/local/lib/lua/5.1/loadall.so' | no file '/usr/lib/libdarktable.so' | no file '/usr/lib64/libdarktable.so' | no file '/usr/lib/darktable/libdarktable.so' | no file '/usr/lib64/darktable/libdarktable.so' | stack traceback: | [C]: in function 'require' | ...ix/Documentos/mcp-darktable/server/dt_mcp_server.lua:370: in main chunk | [C]: ?
2025-12-06 20:58:00,005 [INFO] root: Logging initialized. File: /home/yurix/Documentos/mcp-darktable/logs/mcp_host_debug.log
2025-12-06 20:58:00,014 [DEBUG] root: MCP TX: {"jsonrpc": "2.0", "id": "1", "method": "initialize", "params": {"protocolVersion": "2024-11-05", "capabilities": {}, "clientInfo": {"name": "darktable-mcp-ollama", "version": "0.3.0"}}}
2025-12-06 20:58:01,936 [DEBUG] root: MCP RX: {"result":{"capabilities":{"tools":{"listChanged":false}},"serverInfo":{"name":"darktable-mcp-batch","version":"0.2.0"},"protocolVersion":"2024-11-05"},"jsonrpc":"2.0","id":"1"}
2025-12-06 20:58:01,936 [DEBUG] root: MCP TX: {"jsonrpc": "2.0", "id": "2", "method": "tools/call", "params": {"name": "list_available_collections", "arguments": {}}}
2025-12-06 20:58:02,956 [DEBUG] root: MCP RX: {"result":{"isError":false,"content":[{"json":[{"film_roll":"/home/yurix/Google/medias/imagens","path":"/home/yurix/Google/medias/imagens","image_count":4},{"film_roll":"/home/yurix/Google/medias/imagens/Aniversário Amelie","path":"/home/yurix/Google/medias/imagens/Aniversário Amelie","image_count":1252},{"film_roll":"/home/yurix/Google/medias/imagens/Formatura da Iza 2","path":"/home/yurix/Google/medias/imagens/Formatura da Iza 2","image_count":701},{"film_roll":"/home/yurix/Google/medias/imagens/Formatura da Iza/Eliza","path":"/home/yurix/Google/medias/imagens/Formatura da Iza/Eliza","image_count":208},{"film_roll":"/home/yurix/Google/medias/imagens/Formatura da Iza/Heitor","path":"/home/yurix/Google/medias/imagens/Formatura da Iza/Heitor","image_count":196},{"film_roll":"/home/yurix/Google/medias/imagens/Formatura da Iza/Iza","path":"/home/yurix/Google/medias/imagens/Formatura da Iza/Iza","image_count":350},{"film_roll":"/home/yurix/Google/medias/imagens/Formatura da Iza/Originais/Eliza","path":"/home/yurix/Google/medias/imagens/Formatura da Iza/Originais/Eliza","image_count":239},{"film_roll":"/home/yurix/Google/medias/imagens/Formatura da Iza/Originais/Heitor","path":"/home/yurix/Google/medias/imagens/Formatura da Iza/Originais/Heitor","image_count":196},{"film_roll":"/home/yurix/Google/medias/imagens/Formatura da Iza/Originais/Iza","path":"/home/yurix/Google/medias/imagens/Formatura da Iza/Originais/Iza","image_count":350}],"type":"json"}]},"jsonrpc":"2.0","id":"2"}
